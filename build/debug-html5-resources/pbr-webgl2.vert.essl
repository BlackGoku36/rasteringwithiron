#version 300 es

uniform mat3 N;
uniform mat4 P;
uniform mat4 V;
uniform mat4 W;

out vec2 TexCoords;
in vec2 tex;
out vec3 WorldPos;
in vec3 pos;
out vec3 Normal;
in vec3 nor;

void main()
{
    TexCoords = tex;
    WorldPos = vec3(N * pos);
    Normal = mat3(vec3(N[0].x, N[0].y, N[0].z), vec3(N[1].x, N[1].y, N[1].z), vec3(N[2].x, N[2].y, N[2].z)) * nor;
    gl_Position = ((P * V) * W) * vec4(WorldPos, 1.0);
}

